var numSelected = null;
var tileSelected = null;
var errors = 0;

var board = [
    "--74916-5",
    "2---6-3-9",
    "-----7-1-",
    "-586----4",
    "--3----9-",
    "--62--187",
    "9-4-7---2",
    "67-83----",
    "81--45---"
];

var solution = [
    "387491625",
    "241568379",
    "569327418",
    "758619234",
    "123784596",
    "496253187",
    "934176852",
    "675832941",
    "812945763"
];

// Load boards
const easy = [
    '6------7------5-2------1---362----81--96-----71--9-4-5-2---651---78----345-------',
    '685329174971485326234761859362574981549618732718293465823946517197852643456137298',
];
[
    '8-5--432--1-8--7-------1-8--4-2---7813--9--6479---6-3--5-4-------9--7-1--271--4-6',
    '865974321213865749974321685546213978132798564798546132651432897489657213327189456',
];
[
    '-----2--5352-69-7-1---7-6--78----4---4372198---1----37--6-1---8-2-94-3614--8-----',
    '674382195352169874198574623789653412543721986261498537936215748825947361417836259',
];
const relax = [
    '6---7---2-546---9---3-1---4--78-6-5356--2--1743-1-79--3---8-6---7---928-8---6---9',
    '681974532754632198923518764217896453569423817438157926392785641176349285845261379',
];
[
    '-75-132--4-----6-1---28--------725-3-57---94-8-394--------58---5-6-----7--163-42-',
    '675413289428597631319286754194872563257361948863945172942758316536124897781639425',
];
[
    '-7-2-4-5-9-51----2--2-----6--734-6----18975----4-152--2-----7--7----38-5-4-7-9-2-',
    '176234958985176432432958176857342619621897543394615287263581794719423865548769321',
];
const medium = [
    '--9-------4----6-758-31----15--4-36-------4-8----9-------75----3-------1--2--3--',
    '619472583243985617587316924158247369926531478734698152891754236365829741472163895',
];
[
    '-8---19-6-6--8--3-94-7--5----9-----5-578-921-1-----3----8--7-23-7--2--5-2-56---4-',
    '582341976761985432943762581839214765657839214124576398498157623376428159215693847',
];
[
    '--3--19-85--9-6---78--5----91-6-5-32---------24-8-9-76----6--87---2-8--48-21--5--',
    '463721958521986743789354621918675432376412895245839176194563287657298314832147569',
];
const hard = [
    '-1-5-------97-42----5----7-5---3---7-6--2-41---8--5---1-4------2-3-----9-7----8--',
    '712583694639714258845269173521436987367928415498175326184697532253841769976352841',
];
const challenge = [
    '8-5--7-----46----336---4-8----41-2--19--5--64--8-96----4-3---155----24-----1--3-6',
    '815937642274681953369524187756413298193258764428796531642379815531862473987145326',
];
[
    '5-649-3------876------6-----24--6--7-7-----2-8--7--43-----7------294------1-325-9',
    '586491372413287695297563148324816957179354826865729431938175264652948713741632589 ',
];


window.onload = function () {
    setGame();
}

function setGame() {
    // numbers 1 to 9
    for (let i = 1; i <= 9; i++) {
        let number = document.createElement("div");
        number.id = i;
        number.innerText = i;
        number.addEventListener("click", selectNumber);
        number.classList.add("number");
        document.getElementById("numbers").appendChild(number);
    }
    // board 9 x 9
    for (let r = 0; r < 9; r++) {
        for (let c = 0; c < 9; c++) {
            let tile = document.createElement("div");
            tile.id = r.toString() + "-" + c.toString();
            if (board[r][c] != "-") {
                tile.innerText = board[r][c];
                tile.classList.add("tile-start")
            }
            if (r == 2 || r == 5 || r == 8) {
                tile.classList.add("horizontal-line");
            }
            if (c == 2 || c == 5 || c == 8) {
                tile.classList.add("vertical-line");
            }
            if (r == 0) {
                tile.classList.add("horizontal-line-1");
            }
            if (c == 0) {
                tile.classList.add("vertical-line-1");
            }
            tile.addEventListener("click", selectTile);
            tile.classList.add("tile");
            document.getElementById("board").append(tile);
        }
    }
}

function selectNumber() {
    if (numSelected != null) {
        numSelected.classList.remove("number-selected")
    }
    numSelected = this;
    numSelected.classList.add("number-selected")
}

function selectTile() {
    if (numSelected) {
        if (this.innerText != "") {
            return
        }

        let coords = this.id.split("-");
        let r = parseInt(coords[0]);
        let c = parseInt(coords[1]);

        if (solution[r][c] == numSelected.id) {
            this.innerText = numSelected.id;
        } else {
            errors += 1;
            document.getElementById("errors").innerText = errors;
        }
    }
}